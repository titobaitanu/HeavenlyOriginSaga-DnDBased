# ============================================================
# SYSTEM MODULE — INVENTORY & STORAGE MANAGEMENT SYSTEM
# File: system_modules/system/inventory_module.yaml
# Secure Public Version (v3.2)
# ============================================================
# Maintainer: Heavenal Control Node
# License: Dual (MIT + Heavenal Law Open-Collab)
# ============================================================

meta:
  module_id: "SYS-INVENTORY"
  title: "Heavenal Inventory & Storage Management System"
  version: 3.2-secure
  author: "Tito Baitanu"
  maintainer: "Heavenal Control Node"
  status: verified
  linked_codex:
    - "codex_heavenal_shop.yaml"
    - "codex_economy_trade.yaml"
    - "codex_npc_faction.yaml"
    - "codex_conflict_matrix.yaml"
  checksum: "SYS-INVENTORY-SHA-992A3"
  last_updated: "2025-11-10"

---

description:
  summary: >
    Modul inventori ini mengatur sistem penyimpanan, kapasitas, identifikasi,
    dan interaksi antar item di seluruh realm. Termasuk sistem penyimpanan personal,
    penyimpanan dimensi, dan akses antar karakter, serta integrasi dengan
    Heavenal Shop, Alchemy, Forging, dan Reward Engine.
  philosophy: >
    Semua item memiliki resonansi hukum (Law Resonance). Penggunaannya harus
    selaras dengan realm pengguna. Item yang tidak sesuai realm dapat memicu
    efek hukum (Law Distortion) atau kehilangan efisiensi.

---

inventory_types:
  - name: "Personal Inventory"
    capacity_base: 30
    expandable: true
    expansion_methods: ["Inventory Talisman", "Heavenal Storage Rune"]
    note: "Item mortal dan artefak tingkat rendah."
  - name: "Dimensional Pouch"
    capacity_base: 100
    linked_realm: "Mortal–Immortal"
    law_synchronization: "Auto-adjusts with realm Qi density"
  - name: "Heavenal Storage Ring"
    capacity_base: 500
    linked_realm: "Immortal–Divine"
    encryption: "Law-Seal Key (only owner’s soul signature)"
  - name: "Void Treasury"
    capacity_base: 1000
    linked_realm: "Divine–Transcendent"
    function: "Stores divine relics or sealed void-class items"
  - name: "Faction Vault"
    capacity_dynamic: "Based on faction influence"
    access: "Faction Leaders or Treasurer NPCs only"

---

item_classification:
  - Mortal Items: "Consumables, herbs, mortal pills, basic weapons"
  - Immortal Items: "High-tier essence stones, immortal pills, law tools"
  - Divine Items: "Relics, divine-grade weapons, law cores"
  - Abyssal Items: "Forbidden artifacts, cursed essences, soul containers"
  - Beast Items: "Natural treasures, beast cores, evolution catalysts"

---

item_data_structure:
  fields:
    - item_id
    - name
    - type
    - grade
    - realm_tier
    - quantity
    - law_resonance
    - owner_id
    - bound_status
    - expiration
    - origin_realm
    - rarity
  sample_entry:
    item_id: "ART-00482"
    name: "Crimson Lotus Blade"
    type: "Weapon"
    grade: "Immortal Grade 3"
    realm_tier: "Immortal"
    quantity: 1
    law_resonance: "Fire Law"
    bound_status: "Bound to Player: Gazilla"
    origin_realm: "Immortal Upper Realm"
    rarity: "Epic"

---

mechanics:
  pickup_rules:
    - "Auto-pickup enabled for loot ≤ user realm tier."
    - "Immortal+ tier items require Law Identification before storage."
    - "Bound items cannot be traded or dropped unless purified."
  stack_limit:
    - herbs: 99
    - pills: 50
    - artifacts: 1
    - materials: 999
  weight_system:
    formula: "Item_Weight × (1 - Qi_Strength × 0.05)"
    note: "Stronger cultivators can carry heavier loads."

---

law_restrictions:
  - Mortal cannot equip items beyond Mortal Grade 9.
  - Immortal can equip up to Divine Grade 5.
  - Divine beings unrestricted by Law Grade but subject to Karma Reflection.
  - Abyssal or corrupted items reduce Karma by fixed % if equipped.
  - Beast items require resonance with Beast Qi or they lose potency (–60%).

---

interaction_with_other_systems:
  shop_integration:
    description: "Supports buying/selling with real-time inventory update."
    mechanics:
      - "Auto-check capacity before purchase."
      - "Partial transactions allowed."
      - "Rarity-based tax modifier via Merchant Alliance."
  forging_system:
    description: "Allows insertion/removal of materials to forge list."
    features:
      - "Material lock prevents duplication exploits."
      - "Void resonance alert if grade mismatch."
  alchemy_system:
    description: "Handles ingredient transfer between inventory and cauldron."
    restrictions:
      - "Auto-check for herb freshness < 30 days."
      - "Catalyst auto-suggestion enabled."
  reward_loot_system:
    description: "Items automatically categorized upon looting."
    loot_sorting:
      - herbs → alchemy bag
      - ores → forging pouch
      - artifacts → display vault

---

storage_security:
  encryption_level:
    - Personal: "Qi-bound"
    - Dimensional Pouch: "Dual Law Seal"
    - Heavenal Storage Ring: "Soul Signature Lock"
    - Void Treasury: "Divine Encryption (Transcendent Seal)"
  theft_protection:
    - "Attempting to open another’s ring triggers Heavenal Flame Counter."
    - "Unauthorized duplication attempts result in data purge & karma penalty."
  backup_and_sync:
    frequency: "Every 6 Heavenal Hours"
    target: "Heavenal Log Archive"
    note: "System auto-restores lost items during synchronization."

---

gm_controls:
  commands:
    - "/inventory show <player>"
    - "/inventory transfer <from> <to> <item_id> <quantity>"
    - "/inventory wipe <player>"
    - "/inventory give <player> <item_id> <quantity>"
    - "/inventory check_integrity <player>"
  admin_access:
    required_level: 8
    restrictions:
      - "Cannot modify divine-class items without Heavenal Approval."
      - "All actions logged in GM Registry."

---

visual_representation:
  ui_layers:
    - Main Inventory Grid (30 slots per page)
    - Artifact Showcase (5 featured)
    - Quick Access Bar (10 slots)
    - Dimensional Tabs (for pouches and rings)
  visual_effects:
    - Mortal → Simple scroll interface.
    - Immortal → Floating jade rune matrix.
    - Divine → Spatial hologram storage grid.
    - Transcendent → Void fractal cube manifest.

---

verification:
  maintained_by: "Heavenal Control Node"
  validated_on: "2025-11-10"
  sync_with: "manifest.yaml v3.2-secure"
  integrity_check: verified
  checksum: "SYS-INVENTORY-SHA-992A3"
  sign_key: "HCLN-INVENTORY-SECURE"
