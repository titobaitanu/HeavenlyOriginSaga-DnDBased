# ============================================================
# SYSTEM MODULE — ALCHEMY SHEET
# Repository Path: system_modules/system/alchemy_sheet.yaml
# Version: v3.2-secure
# Maintainer: Heavenal Control Node
# License: Dual (MIT + Heavenal Law Open-Collab)
# ============================================================

meta:
  module_id: "SYS-ALC"
  title: "Heavenal Alchemy Simulation Sheet"
  version: 3.2-secure
  author: "Tito Baitanu"
  maintainer: "Heavenal Control Node"
  category: "System Module"
  status: verified
  linked_files:
    - codex_alchemy_forging.yaml
    - codex_pill_catalog_index.yaml
    - codex_economy_trade.yaml
    - json_binding_map.yaml
  registry_path: "system_modules/system/alchemy_sheet.yaml"
  last_updated: "2025-11-10"

---

description:
  purpose: >
    Sistem alkimia dalam Heavenly Origin Saga mengatur proses pembuatan pill,
    elixir, catalyst, dan item spiritual dengan basis simulasi semi-realistis.
    Modul ini mengatur mekanika kombinasi material, roll check, perhitungan
    kesuksesan, serta potensi kegagalan atau ledakan cauldron.
  design_principle: >
    “Penyempurnaan bukan berasal dari keberuntungan,
    tetapi dari keharmonisan hukum antara api, cauldron, dan jiwa.”

---

core_mechanics:
  process_flow:
    - step_1: "Select Pill Formula (from codex_pill_catalog_index.yaml)"
    - step_2: "Load Ingredients (herb, catalyst, liquid medium)"
    - step_3: "Activate Cauldron (linked to forging or alchemy tool JSON)"
    - step_4: "Channel Flame Control (using player’s Fire Qi stat)"
    - step_5: "Begin Refinement and Condensation"
    - step_6: "Stabilize Law Resonance using Alchemy Skill + Wisdom + Luck"
    - step_7: "Result Output (Success / Failure / Explosion / Mutation)"

---

success_rate_formula:
  base_rate: "20 + (alchemy_skill × 2) + (wisdom × 0.5) + (intelligence × 0.3)"
  modifiers:
    - "Cauldron Quality: +5% to +30%"
    - "Material Purity: +1% to +15%"
    - "Fire Element Stability: ±10%"
    - "Law Comprehension Bonus: up to +25%"
    - "Realm Modifier: +5% per realm above Mortal"
  failure_effects:
    - "Minor Failure: Pill loses grade"
    - "Major Failure: Explosion; user takes Qi Burn damage"
    - "Critical Failure: Pill turns into Poisonous Slag (debuff item)"
  mutation_chance: "5% per successful roll exceeding 120 total points"

---

refinement_system:
  heat_control:
    range: ["Low", "Medium", "High", "Heavenal"]
    notes:
      - "Low: Suitable for low-tier pill"
      - "Medium: Balanced refinement"
      - "High: Used for Grade 5+ pills"
      - "Heavenal: Used for Divine Pills (requires Law Flame)"
  cauldron_sync:
    types:
      - "Mortal Bronze Cauldron"
      - "Immortal Gold Cauldron"
      - "Divine Obsidian Cauldron"
    sync_bonus:
      Mortal: "+5% success, -10% explosion risk"
      Immortal: "+15% success, +5% mutation chance"
      Divine: "+25% success, auto-stabilize essence"

---

potion_effects:
  buff_types:
    - "Regeneration"
    - "Qi Amplification"
    - "Mental Clarity"
    - "Soul Resonance"
    - "Elemental Resistance"
    - "Law Synchronization"
  debuff_types:
    - "Overheat"
    - "Essence Burn"
    - "Karma Contamination"
    - "Soul Fracture"
  duration_system:
    base_duration: "10 minutes × Pill Grade"
    modifiers:
      - "Player Alchemy Mastery: +10% per rank"
      - "Pill Purity ≥ 95%: doubles duration"
      - "Realm Difference: duration halved if below required realm"

---

grading_system:
  grades:
    - G1–G3: "Common Pills (Qi circulation, healing)"
    - G4–G6: "Rare Pills (Core refinement, soul healing)"
    - G7–G8: "Legendary Pills (Law comprehension, essence fusion)"
    - G9: "Heavenal Pills (immortal tribulation & divine effects)"
  law_limit_required:
    - G1–G3: 1.5 (Mortal Cap)
    - G4–G6: 3.0 (Half-Immortal Cap)
    - G7–G8: 5.0 (Immortal Cap)
    - G9: 7.0 (Divine Cap)
  creation_requirements:
    - "Requires Alchemy Rank ≥ Pill Grade × 2"
    - "Requires Cauldron Quality ≥ Pill Grade / 2"
    - "Requires Flame Stability ≥ Pill Grade × 3"

---

linked_data:
  sources:
    - herb_catalog_2000.json
    - catalyst_catalog_2000.json
    - alchemy_tools_2000.json
    - pill_catalog_2000.json
  import_method: "Dynamic JSON Binding via json_binding_map.yaml"
  update_interval: "Every 5 Heavenal Days"
  validation:
    checksum: verified
    schema_version: 2.0
    import_status: success

---

verification:
  maintained_by: "Heavenal Control Node"
  validated_on: "2025-11-10"
  sync_with: "manifest.yaml v3.2-secure"
  integrity_check: verified
  checksum: "SYS-ALC-SHA-42C91A"
  sign_key: "HCLN-ALCHEMY-SYS-SECURE"
